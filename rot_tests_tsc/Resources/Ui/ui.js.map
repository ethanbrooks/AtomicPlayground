{"version":3,"sources":["Ui/ui.ts"],"names":["launchWindow","handleChannelMessages"],"mappings":"AAAA,6BAAuC,yBAAyB,CAAC,CAAA;AACjE,uBAAgB,UAAU,CAAC,CAAA;AAC3B,qCAA6B,wBAAwB,CAAC,CAAA;AACtD,2BAAsB,cAAc,CAAC,CAAA;AACrC,uBAAkB,UAAU,CAAC,CAAA;AAC7B,gCAAyB,mBAAmB,CAAC,CAAA;AAE7C,IAAM,MAAM,GAAG,IAAI,MAAM,CAAC,MAAM,EAAE,CAAC;AACnC,IAAM,UAAU,GAAG,EAAE,CAAC;AACtB,IAAM,SAAS,GAAG,wBAAS,CAAC,SAAS,CAAC,qBAAqB,CAAC,CAAC;AAE7D,0BAAW,CAAC,SAAS,CAAC,UAAC,KAAK;IACxB,EAAE,CAAC,CAAC,KAAK,KAAK,eAAe,CAAC,CAAC,CAAC;QAC5B,wBAAS,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;IACrC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,sBAAsB,IAAI,EAAE,cAAc,EAAE,YAAY;IACpDA,UAAUA,CAACA,IAAIA,CAACA,GAAGA,cAAcA,CAACA;IAClCA,cAAcA,CAACA,UAAUA,CAACA,KAAKA,CAACA,cAAcA,EAAEA,YAAYA,CAACA,CAACA;AAClEA,CAACA;AAED,+BAA+B,KAAK;IAAEC,sBAAeA;SAAfA,WAAeA,CAAfA,sBAAeA,CAAfA,IAAeA;QAAfA,qCAAeA;;IACjDA,MAAMA,CAACA,CAACA,KAAKA,CAACA,CAACA,CAACA;QAChBA,KAAKA,UAAUA;YACXA,YAAYA,CAACA,KAAKA,EAAEA,IAAIA,gBAAGA,CAACA,MAAMA,CAACA,EAAEA,YAAYA,CAACA,CAACA;YACnDA,KAAKA,CAACA;QAEVA,KAAKA,eAAeA;YAChBA,YAAYA,CAACA,UAAUA,EAAEA,IAAIA,8BAAgBA,CAACA,MAAMA,CAACA,EAAEA,YAAYA,CAACA,CAACA;YACrEA,KAAKA,CAACA;QAEVA,KAAKA,cAAcA;YACfA,YAAYA,CAACA,SAASA,EAAEA,IAAIA,oBAASA,CAACA,MAAMA,CAACA,EAAEA,YAAYA,CAACA,CAACA;YAC7DA,KAAKA,CAACA;QAEVA,KAAKA,mBAAmBA;YACpBA,YAAYA,CAACA,cAAcA,EAAEA,IAAIA,yBAAYA,CAACA,MAAMA,CAACA,EAAEA,YAAYA,CAACA,CAACA;YACrEA,KAAKA,CAACA;QAEVA,KAAKA,UAAUA;YACXA,YAAYA,CAACA,KAAKA,EAAEA,IAAIA,gBAAKA,CAACA,MAAMA,CAACA,EAAEA,YAAYA,CAACA,CAACA;YACrDA,KAAKA,CAACA;IACVA,CAACA;AACLA,CAACA","file":"Ui/ui.js","sourcesContent":["import { uiChannel, gameChannel } from '../Modules/gameChannels';\nimport Hud from './hud.ui';\nimport LevelGenSelector from './levelgen_selector.ui';\nimport EndGameUi from './endgame.ui';\nimport LogUi from './log.ui';\nimport Instructions from './instructions.ui';\n\nconst baseUi = new Atomic.UIView();\nconst windowRefs = {};\nconst channelId = uiChannel.subscribe(handleChannelMessages);\n\ngameChannel.subscribe((topic) => {\n    if (topic === 'shutdown:game') {\n        uiChannel.unsubscribe(channelId);\n    }\n});\n\nfunction launchWindow(name, windowInstance, messageParms) {\n    windowRefs[name] = windowInstance;\n    windowInstance.openWindow.apply(windowInstance, messageParms);\n}\n\nfunction handleChannelMessages(topic, ...messageParms) {\n    switch (topic) {\n    case 'show:hud':\n        launchWindow('hud', new Hud(baseUi), messageParms);\n        break;\n\n    case 'show:levelgen':\n        launchWindow('levelgen', new LevelGenSelector(baseUi), messageParms);\n        break;\n\n    case 'show:endgame':\n        launchWindow('endgame', new EndGameUi(baseUi), messageParms);\n        break;\n\n    case 'show:instructions':\n        launchWindow('instructions', new Instructions(baseUi), messageParms);\n        break;\n\n    case 'show:log':\n        launchWindow('log', new LogUi(baseUi), messageParms);\n        break;\n    }\n}\n"],"sourceRoot":"/source/"}