{"version":3,"sources":["Ui/levelgen_selector.ui.ts"],"names":["LevelGenSelector","LevelGenSelector.constructor","LevelGenSelector.openWindow"],"mappings":";;;;;AAAA,6BAA6B,yBAAyB,CAAC,CAAA;AACvD,+BAA2B,kBAAkB,CAAC,CAAA;AAE9C;IAA8CA,oCAAcA;IAQxDA,0BAAYA,MAAMA;QACdC,kBAAMA,MAAMA,EAAEA,4BAA4BA,CAACA,CAACA;QAPhDA,cAASA,GAAmBA,IAAIA,CAACA;QAEjCA,kBAAaA,GAAGA;YACZA,eAAeA,EAAEA,IAAIA,CAACA,WAAWA;SACpCA,CAACA;IAIFA,CAACA;IAEDD,qCAAUA,GAAVA,UAAWA,UAAUA;QAArBE,iBAgCCA;QA/BGA,gBAAKA,CAACA,UAAUA,WAAEA,CAACA;QAEnBA,IAAIA,GAAGA,GAAGA,IAAIA,CAACA,MAAMA,CAACA;QACtBA,GAAGA,CAACA,OAAOA,CAACA,CAACA,CAACA,EAAEA,CAACA,EAAEA,GAAGA,EAAEA,MAAMA,CAACA,QAAQA,CAACA,MAAMA,CAACA,CAACA,CAACA;QACjDA,GAAGA,CAACA,IAAIA,GAAGA,2CAA2CA,CAACA;QAEvDA,IAAMA,UAAUA,GAAGA,GAAGA,CAACA,SAASA,CAAsBA,eAAeA,CAACA,CAACA;QACvEA,IAAMA,YAAYA,GAAGA,IAAIA,MAAMA,CAACA,kBAAkBA,EAAEA,CAACA;QACrDA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,UAAUA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;YACzCA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,MAAMA,CAACA,YAAYA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA,IAAIA,EAAEA,UAAUA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA;QAC1FA,CAACA;QACDA,UAAUA,CAACA,SAASA,CAACA,YAAYA,CAACA,CAACA;QAEnCA,IAAIA,CAACA,SAASA,GAAGA,GAAGA,CAACA,SAASA,CAAkBA,QAAQA,CAACA,CAACA;QAC1DA,IAAIA,CAACA,SAASA,CAACA,gBAAgBA,CAACA,IAAIA,CAACA,SAASA,EAAEA,aAAaA,EAAEA,UAACA,SAASA;YACrEA,EAAEA,CAACA,CAACA,SAASA,CAACA,IAAIA,KAAKA,MAAMA,CAACA,mBAAmBA,CAACA,CAACA,CAACA;gBAChDA,MAAMA,CAACA;YACXA,CAACA;YACDA,2BAAYA,CAACA,WAAWA,CAACA,WAAWA,EAAEA,UAAUA,CAACA,cAAcA,CAACA,CAACA;YACjEA,KAAIA,CAACA,SAASA,CAACA,QAAQA,CAACA,MAAMA,CAACA,wBAAwBA,EAAEA,IAAIA,CAACA,CAACA;YAC/DA,KAAIA,CAACA,WAAWA,EAAEA,CAACA;QACvBA,CAACA,CAACA,CAACA;QAEHA,IAAIA,MAAMA,GAAGA,GAAGA,CAACA,SAASA,CAAkBA,aAAaA,CAACA,CAACA;QAC3DA,MAAMA,CAACA,gBAAgBA,CAACA,MAAMA,EAAEA,aAAaA,EAAEA,UAACA,SAASA;YACrDA,EAAEA,CAACA,CAACA,SAASA,CAACA,IAAIA,KAAKA,MAAMA,CAACA,mBAAmBA,CAACA,CAACA,CAACA;gBAChDA,MAAMA,CAACA;YACXA,CAACA;YACDA,2BAAYA,CAACA,WAAWA,CAACA,eAAeA,EAAEA,UAAUA,CAACA,cAAcA,CAACA,CAACA;YACrEA,KAAIA,CAACA,SAASA,CAACA,QAAQA,CAACA,MAAMA,CAACA,wBAAwBA,EAAEA,KAAKA,CAACA,CAACA;QACpEA,CAACA,CAACA,CAACA;IACPA,CAACA;IACLF,uBAACA;AAADA,CA7CA,AA6CCA,EA7C6C,wBAAc,EA6C3D;AA7CD;kCA6CC,CAAA","file":"Ui/levelgen_selector.ui.js","sourcesContent":["import { levelChannel } from '../Modules/gameChannels';\nimport CustomUIWindow from './CustomUIWindow';\n\nexport default class LevelGenSelector extends CustomUIWindow {\n\n    runButton:Atomic.UIButton = null;\n\n    channelTopics = {\n        'hide:levelGen': this.closeWindow\n    };\n\n    constructor(uiView) {\n        super(uiView, 'Ui/levelgen_selector.ui.tb');\n    }\n\n    openWindow(blueprints) {\n        super.openWindow();\n\n        let wnd = this.window;\n        wnd.setRect([0, 0, 300, Atomic.graphics.height]);\n        wnd.text = 'Select a Generator to build a level with:';\n\n        const selectList = wnd.getWidget<Atomic.UISelectList>('selGenerators');\n        const selectSource = new Atomic.UISelectItemSource();\n        for (let i = 0; i < blueprints.length; i++) {\n            selectSource.addItem(new Atomic.UISelectItem(blueprints[i].name, blueprints[i].name));\n        }\n        selectList.setSource(selectSource);\n\n        this.runButton = wnd.getWidget<Atomic.UIButton>('btnRun');\n        this.runButton.subscribeToEvent(this.runButton, 'WidgetEvent', (eventData) => {\n            if (eventData.type !== Atomic.UI_EVENT_TYPE_CLICK) {\n                return;\n            }\n            levelChannel.sendMessage('run:level', selectList.selectedItemID);\n            this.runButton.setState(Atomic.UI_WIDGET_STATE_DISABLED, true);\n            this.closeWindow();\n        });\n\n        let button = wnd.getWidget<Atomic.UIButton>('btnGenerate');\n        button.subscribeToEvent(button, 'WidgetEvent', (eventData) => {\n            if (eventData.type !== Atomic.UI_EVENT_TYPE_CLICK) {\n                return;\n            }\n            levelChannel.sendMessage('preview:level', selectList.selectedItemID);\n            this.runButton.setState(Atomic.UI_WIDGET_STATE_DISABLED, false);\n        });\n    }\n}\n"],"sourceRoot":"/source/"}